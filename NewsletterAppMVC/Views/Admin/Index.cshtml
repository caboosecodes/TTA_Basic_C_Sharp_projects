@using NewsletterAppMVC.ViewModels
@model List<SignupVm>

<div class="row no-gutters m-3">
  <div class="card col-sm-12 col-md-10 col-lg-6 mx-auto shadow">
    <div class="card-header text-center">
      <h5 class="m-0">Sign-ups</h5>
    </div>
    <div class="card-body">
      @foreach (var signup in Model)
      {
        @* razor helper method BeginForm calling the unsubscribe method, inside of the admin controller and POST to change records *@
        using (Html.BeginForm("unsubscribe", "Admin", FormMethod.Post))
        {
          @* to add a value in forms you have to use the input tag
            hidden if you do not want to display it
            name is Id because that is the parameter name in the unsubscribe method
         *@
          <input type="hidden" name="Id" value="@signup.Id" />
          <div class="row mb-3">
            <div class="col-2">
              @signup.FirstName
            </div>
            <div class="col">
              @signup.LastName
            </div>
            <div class="col-4">
              @signup.EmailAddress
            </div>
            <div class="col">
              <button type="submit" class="btn btn-danger btn-block">
                Unsubscribe
              </button>
            </div>
          </div>
        }

      }
    </div>
  </div>
</div>